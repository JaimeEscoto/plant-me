import React, {
  createContext,
  useCallback,
  useContext,
  useEffect,
  useMemo,
  useState,
} from 'react';

const LanguageContext = createContext();

const supportedLanguages = [
  { id: 'es', label: 'Espa√±ol' },
  { id: 'en', label: 'English' },
  { id: 'fr', label: 'Fran√ßais' },
  { id: 'ar', label: 'ÿßŸÑÿπÿ±ÿ®Ÿäÿ© (ŸÖÿµÿ±)' },
];

const localeMap = {
  es: 'es-ES',
  en: 'en-US',
  fr: 'fr-FR',
  ar: 'ar-EG',
};

const directionMap = {
  ar: 'rtl',
};

const getStoredLanguage = () => {
  if (typeof window === 'undefined') {
    return 'es';
  }
  const [firstSegment] = window.location.pathname.split('/').filter(Boolean);
  if (firstSegment && supportedLanguages.some((lang) => lang.id === firstSegment)) {
    return firstSegment;
  }

  const stored = localStorage.getItem('language');
  if (stored && supportedLanguages.some((lang) => lang.id === stored)) {
    return stored;
  }

  const browserLanguage = window.navigator?.language?.toLowerCase();
  if (browserLanguage) {
    const match = supportedLanguages.find(
      (lang) =>
        lang.id === browserLanguage || browserLanguage.startsWith(`${lang.id}-`)
    );
    if (match) {
      return match.id;
    }
  }

  return 'es';
};

const translations = {
  es: {
    headerTitle: 'Mi Jard√≠n Mental',
    navGarden: 'Jard√≠n',
    navHistory: 'Historial',
    navCommunity: 'Comunidad',
    navLogout: 'Cerrar sesi√≥n',
    languageLabel: 'Idioma',

    authWelcomeTitle: 'Bienvenido a Mi Jard√≠n Mental',
    authCreateAccountTitle: 'Crear una cuenta',
    authIntro:
      'Registra las vivencias buenas y malas de tu d√≠a, clasif√≠calas por categor√≠a y observa c√≥mo evoluciona la planta que representa tu bienestar.',
    authUsernameLabel: 'Nombre de usuario',
    authEmailLabel: 'Email',
    authPasswordLabel: 'Contrase√±a',
    authProcessing: 'Procesando...',
    authLoginButton: 'Iniciar sesi√≥n',
    authRegisterButton: 'Registrarme',
    authNoAccount: '¬øNo tienes cuenta?',
    authHaveAccount: '¬øYa tienes cuenta?',
    authRegisterLink: 'Reg√≠strate',
    authLoginLink: 'Inicia sesi√≥n',
    authDemoTitle: '¬øQuieres explorar r√°pidamente?',
    authDemoText:
      'Usa el usuario de demostraci√≥n {email} con la contrase√±a {password} para ver un jard√≠n con eventos registrados.',
    authDemoButton: 'Autocompletar credenciales de prueba',

    gardenLoading: 'Cargando tu jard√≠n...',
    gardenHealth: 'Salud del jard√≠n: {health}%',
    gardenMoodNeedsCare: 'Tu jard√≠n necesita cuidados.',
    gardenMoodBalanced: 'Tu jard√≠n est√° en equilibrio.',
    gardenMoodFlourishing: '¬°Tu jard√≠n florece con fuerza!',
    gardenMoodDescription:
      'Cada emoci√≥n que registres representa un riego o una sequ√≠a para tu planta interior. Usa las categor√≠as para detectar patrones y equilibrar tu d√≠a a d√≠a.',
    gardenRecordEvent: 'Registrar evento emocional',
    gardenEditButton: 'Editar',
    gardenDeleteButton: 'Eliminar',
    gardenNoCategory: 'Sin categor√≠a',
    gardenTypePositive: 'Positivo',
    gardenTypeNegative: 'Negativo',
    gardenTypeNeutral: 'Neutro',
    gardenNoDescription: 'Sin descripci√≥n',
    gardenNoEvents:
      'A√∫n no tienes eventos registrados. Cada emoci√≥n que registres nutrir√° o agotar√° tu planta seg√∫n c√≥mo te haya impactado.',
    gardenFormTitle: 'Registrar emoci√≥n',
    gardenFormDescription:
      'Describe lo que sucedi√≥, clasif√≠calo y cu√©ntanos c√≥mo impact√≥ tu d√≠a. As√≠ veremos crecer o decaer el jard√≠n.',
    gardenFormName: 'Nombre',
    gardenFormCategory: 'Categor√≠a',
    gardenFormCategoryPlaceholder: 'Ej. Trabajo, Relaciones, Autocuidado',
    gardenFormType: 'Tipo',
    gardenFormDescriptionLabel: 'Descripci√≥n',
    gardenFormDescriptionPlaceholder: 'Describe qu√© sucedi√≥ o c√≥mo te sentiste',
    gardenFormCancel: 'Cancelar',
    gardenFormSave: 'Guardar',
    gardenFormSaving: 'Guardando...',
    gardenEditTitle: 'Actualizar descripci√≥n',
    gardenEditCancel: 'Cancelar',
    gardenEditUpdate: 'Actualizar',

    historyTitle: 'Historial de emociones',
    historySubtitle: 'Explora c√≥mo ha evolucionado tu jard√≠n mental.',
    historyRange7: '√öltimos 7 d√≠as',
    historyRange30: '√öltimos 30 d√≠as',
    historyRangeAll: 'Todo el historial',
    historyLoading: 'Cargando historial...',
    historyError: 'No se pudo cargar el historial.',
    historyNoCategory: 'Sin categor√≠a',
    historyNoDescription: 'Sin descripci√≥n',
    historyEmptyRange: 'No hay eventos registrados en este periodo.',

    communitySearchTitle: 'Buscar comunidad',
    communitySearchSubtitle:
      'Encuentra a otros jardineros emocionales por su nombre de usuario y agr√©galos como amigos.',
    communitySearchPlaceholder: 'Buscar por nombre de usuario',
    communitySearchButton: 'Buscar',
    communitySearching: 'Buscando...',
    communitySearchMinChars: 'Escribe al menos 2 caracteres para buscar.',
    communitySearchError: 'No se pudo realizar la b√∫squeda.',
    communityFriendAdded: '{name} ahora forma parte de tu jard√≠n social.',
    communityFriendAddedGeneric: 'Se agreg√≥ el nuevo amigo correctamente.',
    communityAlreadyFriend: 'Ya es parte de tus amigos',
    communityAddFriend: 'Agregar amigo',
    communityAddingFriend: 'Agregando...',
    communityFriendAddedLabel: 'Amigo agregado',

    communityFriendsTitle: 'Tus amigos',
    communityFriendsSubtitle: 'Explora c√≥mo florecen los jardines de tu comunidad.',
    communityRefresh: 'Actualizar',
    communityFriendsLoading: 'Cargando amigos...',
    communityFriendsError: 'No se pudieron cargar tus amigos.',
    communityNoFriends:
      'A√∫n no tienes amigos registrados. Busca nuevos jardineros y comparte su crecimiento emocional.',
    communityHealthLabel: 'Salud: {health}%',
    communityFriendshipSince: 'Amistad desde {date}',
    communityLastEvent: '√öltimo evento:',
    communityNoEventsYet: 'A√∫n no hay eventos registrados.',

    communitySelectedGardenTitle: 'Jard√≠n de {name}',
    communitySelectFriend: 'Selecciona un amigo',
    communitySelectedSubtitle: 'Conoce sus eventos emocionales y acompa√±a su proceso de crecimiento.',
    communityProfileLoading: 'Cargando perfil...',
    communityProfileError: 'No se pudo cargar el perfil seleccionado.',
    communityGardenHealth: 'Salud del jard√≠n: {health}%',
    communityLastUpdate: '√öltima actualizaci√≥n:',
    communityNoGarden: 'Este usuario a√∫n no tiene un jard√≠n configurado.',
    communitySharedEvents: 'Eventos compartidos',
    communityNoDescriptionAvailable: 'Sin descripci√≥n disponible.',
    communityNoSharedEvents: 'Todav√≠a no hay eventos registrados para mostrar.',
    communitySelectFriendPrompt: 'Selecciona un amigo para ver su jard√≠n emocional.',
    communityNoFriendsProfile:
      'Cuando agregues amigos podr√°s explorar aqu√≠ sus jardines y eventos emocionales.',

    formErrorRegisterPlant: 'No se pudo registrar la planta.',
    formErrorUpdatePlant: 'No se pudo actualizar la planta.',
    formErrorDeletePlant: 'No se pudo eliminar la planta.',
    authErrorRegister: 'Error al registrar.',
    authErrorLogin: 'Error al iniciar sesi√≥n.',
    authErrorFetchGarden: 'No se pudo obtener el jard√≠n.',
    communityErrorAddFriend: 'No se pudo agregar a la persona seleccionada.',
    communityActionError: 'No se pudo registrar tu interacci√≥n. Int√©ntalo de nuevo.',
    communityWorking: 'Procesando...',
    communityLikeEvent: 'Me gusta',
    communityUnlikeEvent: 'Quitar me gusta',
    communityLikeComment: 'Me gusta',
    communityUnlikeComment: 'Quitar me gusta',
    communityLikesCount: '{count} me gusta',
    communityCommentsTitle: 'Comentarios',
    communityNoComments: 'S√© la primera persona en comentar.',
    communityCommentPlaceholder: 'Comparte un mensaje de apoyo para tu amigo...',
    communityCommentButton: 'Publicar comentario',
    communityCommentPosting: 'Publicando...',
    communityCommentError: 'No se pudo publicar el comentario.',
    communityCommentRequired: 'Escribe un comentario antes de enviarlo.',
    communityUnknownUser: 'Persona de la comunidad',
    economySeedsLabel: 'Semillas disponibles',
    economyLoading: 'Cargando‚Ä¶',
    economyMedalLabel: 'Medalla de compras',
    economyMedalDescription: 'Una medalla por cada accesorio adquirido.',
    economyShopTitle: 'Tienda de accesorios',
    economyAccessoryOwnedLabel: 'Tienes {count}',
    economyProcessing: 'Procesando...',
    economyBuyButton: 'Comprar',
    economySellButton: 'Vender (+{value} üå±)',
    economyGiftButton: 'Regalar',
    economySeedTransferTitle: 'Regalar semillas',
    economySeedTransferSubtitle: 'Env√≠a semillas a tus amigos como muestra de apoyo.',
    economySeedTransferRecipient: 'Nombre de usuario destinatario',
    economySeedTransferRecipientPlaceholder: 'Ej. test',
    economySeedTransferAmount: 'Cantidad de semillas',
    economySeedTransferMessage: 'Mensaje (opcional)',
    economySeedTransferSubmit: 'Enviar regalo',
    economyPendingGiftsTitle: 'Regalos pendientes',
    economyPendingSeedsLabel: 'Semillas recibidas',
    economyNoPendingSeeds: 'No tienes semillas pendientes.',
    economyTransferFromLabel: '{name} te envi√≥ {amount} üå±',
    economyAcceptButton: 'Aceptar',
    economyRejectButton: 'Rechazar',
    economyPendingSeedsOutgoingLabel: 'Semillas que enviaste',
    economyTransferToLabel: 'Esperando aceptaci√≥n de {name} ({amount} üå±)',
    economyPendingAccessoriesLabel: 'Accesorios recibidos',
    economyNoPendingAccessories: 'No tienes accesorios pendientes.',
    economyAccessoryTransferFromLabel: '{name} comparti√≥ {amount} √ó {item}',
    economyPendingAccessoriesOutgoingLabel: 'Accesorios que enviaste',
    economyAccessoryTransferToLabel: 'Esperando aceptaci√≥n de {name} ({amount} √ó {item})',
    economyOverviewError: 'No se pudo cargar la informaci√≥n de la tienda.',
    economyPurchaseSuccess: 'A√±adiste {name} a tu planta.',
    economyPurchaseGenericSuccess: 'Compra registrada correctamente.',
    economyPurchaseError: 'No se pudo completar la compra.',
    economySellSuccess: 'Vendiste {name}.',
    economySellGenericSuccess: 'Venta realizada correctamente.',
    economySellError: 'No se pudo vender el accesorio.',
    economyAccessoryTransferPromptUser:
      '¬øA qui√©n quieres enviar este accesorio? Escribe su nombre de usuario.',
    economyAccessoryTransferPromptQuantity: '¬øCu√°ntas unidades quieres enviar?',
    economyAccessoryTransferSuccess: 'El accesorio fue enviado y est√° pendiente de aprobaci√≥n.',
    economyAccessoryTransferError: 'No se pudo transferir el accesorio.',
    economySeedTransferSuccess: 'El regalo de semillas est√° en camino.',
    economySeedTransferError: 'No se pudo enviar las semillas. Revisa la informaci√≥n.',
    economyAcceptTransferSuccess: 'Regalo aceptado correctamente.',
    economyRejectTransferSuccess: 'Regalo gestionado correctamente.',
    economyTransferUpdateError: 'No se pudo actualizar el estado del regalo.',
  },
  en: {
    headerTitle: 'My Mental Garden',
    navGarden: 'Garden',
    navHistory: 'History',
    navCommunity: 'Community',
    navLogout: 'Log out',
    languageLabel: 'Language',

    authWelcomeTitle: 'Welcome to My Mental Garden',
    authCreateAccountTitle: 'Create an account',
    authIntro:
      'Record the good and bad moments of your day, classify them by category, and watch the plant that represents your wellbeing evolve.',
    authUsernameLabel: 'Username',
    authEmailLabel: 'Email',
    authPasswordLabel: 'Password',
    authProcessing: 'Processing...',
    authLoginButton: 'Sign in',
    authRegisterButton: 'Sign up',
    authNoAccount: "Don't have an account?",
    authHaveAccount: 'Already have an account?',
    authRegisterLink: 'Register',
    authLoginLink: 'Sign in',
    authDemoTitle: 'Want to explore quickly?',
    authDemoText:
      'Use the demo user {email} with password {password} to explore a garden with recorded events.',
    authDemoButton: 'Fill demo credentials',

    gardenLoading: 'Loading your garden...',
    gardenHealth: 'Garden health: {health}%',
    gardenMoodNeedsCare: 'Your garden needs care.',
    gardenMoodBalanced: 'Your garden is in balance.',
    gardenMoodFlourishing: 'Your garden is flourishing!',
    gardenMoodDescription:
      'Each emotion you log is a watering or a drought for your inner plant. Use categories to detect patterns and balance your days.',
    gardenRecordEvent: 'Log emotional event',
    gardenEditButton: 'Edit',
    gardenDeleteButton: 'Delete',
    gardenNoCategory: 'No category',
    gardenTypePositive: 'Positive',
    gardenTypeNegative: 'Negative',
    gardenTypeNeutral: 'Neutral',
    gardenNoDescription: 'No description',
    gardenNoEvents:
      "You don't have any logged events yet. Each emotion you register will nourish or drain your plant depending on its impact.",
    gardenFormTitle: 'Log emotion',
    gardenFormDescription:
      'Describe what happened, categorize it, and tell us how it affected your day. That way we can see the garden thrive or decline.',
    gardenFormName: 'Name',
    gardenFormCategory: 'Category',
    gardenFormCategoryPlaceholder: 'E.g. Work, Relationships, Self-care',
    gardenFormType: 'Type',
    gardenFormDescriptionLabel: 'Description',
    gardenFormDescriptionPlaceholder: 'Describe what happened or how you felt',
    gardenFormCancel: 'Cancel',
    gardenFormSave: 'Save',
    gardenFormSaving: 'Saving...',
    gardenEditTitle: 'Update description',
    gardenEditCancel: 'Cancel',
    gardenEditUpdate: 'Update',

    historyTitle: 'Emotion history',
    historySubtitle: 'Explore how your mental garden has evolved.',
    historyRange7: 'Last 7 days',
    historyRange30: 'Last 30 days',
    historyRangeAll: 'Entire history',
    historyLoading: 'Loading history...',
    historyError: 'The history could not be loaded.',
    historyNoCategory: 'No category',
    historyNoDescription: 'No description',
    historyEmptyRange: 'There are no events recorded in this period.',

    communitySearchTitle: 'Find community',
    communitySearchSubtitle:
      'Discover other emotional gardeners by username and add them as friends.',
    communitySearchPlaceholder: 'Search by username',
    communitySearchButton: 'Search',
    communitySearching: 'Searching...',
    communitySearchMinChars: 'Type at least 2 characters to search.',
    communitySearchError: 'The search could not be completed.',
    communityFriendAdded: '{name} is now part of your social garden.',
    communityFriendAddedGeneric: 'The new friend was added successfully.',
    communityAlreadyFriend: 'Already one of your friends',
    communityAddFriend: 'Add friend',
    communityAddingFriend: 'Adding...',
    communityFriendAddedLabel: 'Friend added',

    communityFriendsTitle: 'Your friends',
    communityFriendsSubtitle: 'See how the gardens of your community are flourishing.',
    communityRefresh: 'Refresh',
    communityFriendsLoading: 'Loading friends...',
    communityFriendsError: 'Your friends could not be loaded.',
    communityNoFriends:
      "You don't have any friends yet. Search for new gardeners and share their emotional growth.",
    communityHealthLabel: 'Health: {health}%',
    communityFriendshipSince: 'Friends since {date}',
    communityLastEvent: 'Latest event:',
    communityNoEventsYet: 'No events recorded yet.',

    communitySelectedGardenTitle: "{name}'s garden",
    communitySelectFriend: 'Select a friend',
    communitySelectedSubtitle: 'Discover their emotional events and support their growth.',
    communityProfileLoading: 'Loading profile...',
    communityProfileError: 'The selected profile could not be loaded.',
    communityGardenHealth: 'Garden health: {health}%',
    communityLastUpdate: 'Last update:',
    communityNoGarden: 'This user does not have a garden configured yet.',
    communitySharedEvents: 'Shared events',
    communityNoDescriptionAvailable: 'No description available.',
    communityNoSharedEvents: 'There are no events to show yet.',
    communitySelectFriendPrompt: 'Select a friend to see their emotional garden.',
    communityNoFriendsProfile:
      'Once you add friends you will be able to explore their gardens and emotional events here.',

    formErrorRegisterPlant: 'The plant could not be registered.',
    formErrorUpdatePlant: 'The plant could not be updated.',
    formErrorDeletePlant: 'The plant could not be deleted.',
    authErrorRegister: 'Error while registering.',
    authErrorLogin: 'Error while signing in.',
    authErrorFetchGarden: 'The garden could not be retrieved.',
    communityErrorAddFriend: 'The selected person could not be added.',
    communityActionError: 'We could not save your interaction. Please try again.',
    communityWorking: 'Working...',
    communityLikeEvent: 'Like',
    communityUnlikeEvent: 'Unlike',
    communityLikeComment: 'Like',
    communityUnlikeComment: 'Unlike',
    communityLikesCount: '{count} likes',
    communityCommentsTitle: 'Comments',
    communityNoComments: 'Be the first to leave a comment.',
    communityCommentPlaceholder: 'Share a supportive message for your friend...',
    communityCommentButton: 'Post comment',
    communityCommentPosting: 'Posting...',
    communityCommentError: 'The comment could not be posted.',
    communityCommentRequired: 'Please write a comment before sending it.',
    communityUnknownUser: 'Community member',
    economySeedsLabel: 'Seeds available',
    economyLoading: 'Loading‚Ä¶',
    economyMedalLabel: 'Accessory medal',
    economyMedalDescription: 'One medal for every accessory you have purchased.',
    economyShopTitle: 'Accessory shop',
    economyAccessoryOwnedLabel: 'You own {count}',
    economyProcessing: 'Processing...',
    economyBuyButton: 'Buy',
    economySellButton: 'Sell (+{value} üå±)',
    economyGiftButton: 'Gift',
    economySeedTransferTitle: 'Send seeds',
    economySeedTransferSubtitle: 'Share seeds with friends as a sign of support.',
    economySeedTransferRecipient: 'Recipient username',
    economySeedTransferRecipientPlaceholder: 'e.g. test',
    economySeedTransferAmount: 'Amount of seeds',
    economySeedTransferMessage: 'Message (optional)',
    economySeedTransferSubmit: 'Send gift',
    economyPendingGiftsTitle: 'Pending gifts',
    economyPendingSeedsLabel: 'Seeds received',
    economyNoPendingSeeds: 'You have no pending seeds.',
    economyTransferFromLabel: '{name} sent you {amount} üå±',
    economyAcceptButton: 'Accept',
    economyRejectButton: 'Decline',
    economyPendingSeedsOutgoingLabel: 'Seeds you sent',
    economyTransferToLabel: 'Waiting for {name} ({amount} üå±)',
    economyPendingAccessoriesLabel: 'Accessories received',
    economyNoPendingAccessories: 'You have no pending accessories.',
    economyAccessoryTransferFromLabel: '{name} shared {amount} √ó {item}',
    economyPendingAccessoriesOutgoingLabel: 'Accessories you sent',
    economyAccessoryTransferToLabel: 'Waiting for {name} ({amount} √ó {item})',
    economyOverviewError: 'We could not load the shop right now.',
    economyPurchaseSuccess: '{name} was added to your plant.',
    economyPurchaseGenericSuccess: 'Purchase completed successfully.',
    economyPurchaseError: 'We could not complete the purchase.',
    economySellSuccess: 'You sold {name}.',
    economySellGenericSuccess: 'Sale completed successfully.',
    economySellError: 'We could not sell the accessory.',
    economyAccessoryTransferPromptUser: 'Who should receive this accessory? Enter their username.',
    economyAccessoryTransferPromptQuantity: 'How many units do you want to send?',
    economyAccessoryTransferSuccess: 'The accessory was sent and is awaiting approval.',
    economyAccessoryTransferError: 'We could not transfer the accessory.',
    economySeedTransferSuccess: 'Your seed gift is on its way.',
    economySeedTransferError: 'We could not send the seeds. Check the details.',
    economyAcceptTransferSuccess: 'Gift accepted successfully.',
    economyRejectTransferSuccess: 'Gift handled successfully.',
    economyTransferUpdateError: 'We could not update the gift status.',
  },
  fr: {
    headerTitle: 'Mon Jardin Mental',
    navGarden: 'Jardin',
    navHistory: 'Historique',
    navCommunity: 'Communaut√©',
    navLogout: 'Se d√©connecter',
    languageLabel: 'Langue',

    authWelcomeTitle: 'Bienvenue dans Mon Jardin Mental',
    authCreateAccountTitle: 'Cr√©er un compte',
    authIntro:
      'Enregistre les bonnes et les mauvaises exp√©riences de ta journ√©e, classe-les par cat√©gorie et observe comment la plante qui repr√©sente ton bien-√™tre √©volue.',
    authUsernameLabel: "Nom d'utilisateur",
    authEmailLabel: 'Email',
    authPasswordLabel: 'Mot de passe',
    authProcessing: 'Traitement...',
    authLoginButton: 'Se connecter',
    authRegisterButton: "S'inscrire",
    authNoAccount: "Tu n'as pas de compte ?",
    authHaveAccount: 'Tu as d√©j√† un compte ?',
    authRegisterLink: "Inscris-toi",
    authLoginLink: 'Connecte-toi',
    authDemoTitle: 'Envie de d√©couvrir rapidement ?',
    authDemoText:
      "Utilise l'utilisateur de d√©monstration {email} avec le mot de passe {password} pour d√©couvrir un jardin avec des √©v√©nements enregistr√©s.",
    authDemoButton: 'Remplir les identifiants de d√©mo',

    gardenLoading: 'Chargement de ton jardin...',
    gardenHealth: 'Sant√© du jardin : {health}%',
    gardenMoodNeedsCare: 'Ton jardin a besoin de soins.',
    gardenMoodBalanced: 'Ton jardin est √©quilibr√©.',
    gardenMoodFlourishing: 'Ton jardin est en pleine floraison !',
    gardenMoodDescription:
      "Chaque √©motion enregistr√©e est un arrosage ou une s√©cheresse pour ta plante int√©rieure. Utilise les cat√©gories pour d√©tecter des sch√©mas et √©quilibrer tes journ√©es.",
    gardenRecordEvent: 'Enregistrer un √©v√©nement √©motionnel',
    gardenEditButton: 'Modifier',
    gardenDeleteButton: 'Supprimer',
    gardenNoCategory: 'Sans cat√©gorie',
    gardenTypePositive: 'Positif',
    gardenTypeNegative: 'N√©gatif',
    gardenTypeNeutral: 'Neutre',
    gardenNoDescription: 'Sans description',
    gardenNoEvents:
      "Tu n'as pas encore enregistr√© d'√©v√©nements. Chaque √©motion que tu notes nourrira ou fatiguera ta plante selon son impact.",
    gardenFormTitle: 'Enregistrer une √©motion',
    gardenFormDescription:
      'D√©cris ce qui est arriv√©, classe-le et raconte-nous comment cela a impact√© ta journ√©e. Nous verrons ainsi le jardin cro√Ætre ou d√©cliner.',
    gardenFormName: 'Nom',
    gardenFormCategory: 'Cat√©gorie',
    gardenFormCategoryPlaceholder: 'Ex. Travail, Relations, Auto-soin',
    gardenFormType: 'Type',
    gardenFormDescriptionLabel: 'Description',
    gardenFormDescriptionPlaceholder: 'D√©cris ce qui est arriv√© ou ce que tu as ressenti',
    gardenFormCancel: 'Annuler',
    gardenFormSave: 'Enregistrer',
    gardenFormSaving: 'Enregistrement...',
    gardenEditTitle: 'Mettre √† jour la description',
    gardenEditCancel: 'Annuler',
    gardenEditUpdate: 'Mettre √† jour',

    historyTitle: 'Historique des √©motions',
    historySubtitle: 'Explore comment ton jardin mental a √©volu√©.',
    historyRange7: '7 derniers jours',
    historyRange30: '30 derniers jours',
    historyRangeAll: "Tout l'historique",
    historyLoading: "Chargement de l'historique...",
    historyError: "Impossible de charger l'historique.",
    historyNoCategory: 'Sans cat√©gorie',
    historyNoDescription: 'Sans description',
    historyEmptyRange: "Aucun √©v√©nement enregistr√© durant cette p√©riode.",

    communitySearchTitle: 'Rechercher dans la communaut√©',
    communitySearchSubtitle:
      "Trouve d'autres jardiniers √©motionnels par leur nom d'utilisateur et ajoute-les comme amis.",
    communitySearchPlaceholder: "Rechercher par nom d'utilisateur",
    communitySearchButton: 'Rechercher',
    communitySearching: 'Recherche...',
    communitySearchMinChars: 'Tape au moins 2 caract√®res pour rechercher.',
    communitySearchError: 'La recherche a √©chou√©.',
    communityFriendAdded: '{name} fait maintenant partie de ton jardin social.',
    communityFriendAddedGeneric: "Le nouvel ami a √©t√© ajout√© avec succ√®s.",
    communityAlreadyFriend: 'Fait d√©j√† partie de tes amis',
    communityAddFriend: 'Ajouter ami',
    communityAddingFriend: 'Ajout...',
    communityFriendAddedLabel: 'Ami ajout√©',

    communityFriendsTitle: 'Tes amis',
    communityFriendsSubtitle: 'D√©couvre comment fleurissent les jardins de ta communaut√©.',
    communityRefresh: 'Rafra√Æchir',
    communityFriendsLoading: 'Chargement des amis...',
    communityFriendsError: "Impossible de charger tes amis.",
    communityNoFriends:
      "Tu n'as pas encore d'amis enregistr√©s. Cherche de nouveaux jardiniers et partage leur croissance √©motionnelle.",
    communityHealthLabel: 'Sant√© : {health}%',
    communityFriendshipSince: 'Amiti√© depuis {date}',
    communityLastEvent: 'Dernier √©v√©nement :',
    communityNoEventsYet: "Aucun √©v√©nement enregistr√© pour le moment.",

    communitySelectedGardenTitle: 'Jardin de {name}',
    communitySelectFriend: 'S√©lectionne un ami',
    communitySelectedSubtitle: 'D√©couvre leurs √©v√©nements √©motionnels et accompagne leur croissance.',
    communityProfileLoading: 'Chargement du profil...',
    communityProfileError: 'Impossible de charger le profil s√©lectionn√©.',
    communityGardenHealth: 'Sant√© du jardin : {health}%',
    communityLastUpdate: 'Derni√®re mise √† jour :',
    communityNoGarden: "Cet utilisateur n'a pas encore de jardin configur√©.",
    communitySharedEvents: '√âv√©nements partag√©s',
    communityNoDescriptionAvailable: 'Pas de description disponible.',
    communityNoSharedEvents: "Il n'y a pas encore d'√©v√©nements √† afficher.",
    communitySelectFriendPrompt: 'S√©lectionne un ami pour voir son jardin √©motionnel.',
    communityNoFriendsProfile:
      'Lorsque tu ajouteras des amis, tu pourras explorer ici leurs jardins et √©v√©nements √©motionnels.',

    formErrorRegisterPlant: "Impossible d'enregistrer la plante.",
    formErrorUpdatePlant: 'Impossible de mettre √† jour la plante.',
    formErrorDeletePlant: 'Impossible de supprimer la plante.',
    authErrorRegister: "Erreur lors de l'inscription.",
    authErrorLogin: 'Erreur lors de la connexion.',
    authErrorFetchGarden: "Impossible d'obtenir le jardin.",
    communityErrorAddFriend: "Impossible d'ajouter la personne s√©lectionn√©e.",
    communityActionError: "Impossible d'enregistrer ton interaction. R√©essaie.",
    communityWorking: 'En cours...',
    communityLikeEvent: "J'aime",
    communityUnlikeEvent: "Ne plus aimer",
    communityLikeComment: "J'aime",
    communityUnlikeComment: "Ne plus aimer",
    communityLikesCount: "{count} mentions j'aime",
    communityCommentsTitle: 'Commentaires',
    communityNoComments: 'Sois la premi√®re personne √† commenter.',
    communityCommentPlaceholder: 'Partage un message de soutien pour ton ami...',
    communityCommentButton: 'Publier le commentaire',
    communityCommentPosting: 'Publication...',
    communityCommentError: "Impossible de publier le commentaire.",
    communityCommentRequired: "√âcris un commentaire avant de l'envoyer.",
    communityUnknownUser: 'Membre de la communaut√©',
    economySeedsLabel: 'Graines disponibles',
    economyLoading: 'Chargement‚Ä¶',
    economyMedalLabel: 'M√©daille d‚Äôachats',
    economyMedalDescription: 'Une m√©daille pour chaque accessoire achet√©.',
    economyShopTitle: 'Boutique d‚Äôaccessoires',
    economyAccessoryOwnedLabel: 'Tu poss√®des {count}',
    economyProcessing: 'Traitement...',
    economyBuyButton: 'Acheter',
    economySellButton: 'Vendre (+{value} üå±)',
    economyGiftButton: 'Offrir',
    economySeedTransferTitle: 'Offrir des graines',
    economySeedTransferSubtitle: 'Partage des graines avec tes amis pour les encourager.',
    economySeedTransferRecipient: 'Nom d‚Äôutilisateur destinataire',
    economySeedTransferRecipientPlaceholder: 'ex. test',
    economySeedTransferAmount: 'Quantit√© de graines',
    economySeedTransferMessage: 'Message (facultatif)',
    economySeedTransferSubmit: 'Envoyer le cadeau',
    economyPendingGiftsTitle: 'Cadeaux en attente',
    economyPendingSeedsLabel: 'Graines re√ßues',
    economyNoPendingSeeds: 'Tu n‚Äôas pas de graines en attente.',
    economyTransferFromLabel: '{name} t‚Äôa envoy√© {amount} üå±',
    economyAcceptButton: 'Accepter',
    economyRejectButton: 'Refuser',
    economyPendingSeedsOutgoingLabel: 'Graines que tu as envoy√©es',
    economyTransferToLabel: 'En attente pour {name} ({amount} üå±)',
    economyPendingAccessoriesLabel: 'Accessoires re√ßus',
    economyNoPendingAccessories: 'Tu n‚Äôas pas d‚Äôaccessoires en attente.',
    economyAccessoryTransferFromLabel: '{name} a partag√© {amount} √ó {item}',
    economyPendingAccessoriesOutgoingLabel: 'Accessoires que tu as envoy√©s',
    economyAccessoryTransferToLabel: 'En attente pour {name} ({amount} √ó {item})',
    economyOverviewError: 'Impossible de charger la boutique pour le moment.',
    economyPurchaseSuccess: '{name} a √©t√© ajout√© √† ta plante.',
    economyPurchaseGenericSuccess: 'Achat effectu√© avec succ√®s.',
    economyPurchaseError: 'Impossible de finaliser l‚Äôachat.',
    economySellSuccess: 'Tu as vendu {name}.',
    economySellGenericSuccess: 'Vente r√©alis√©e avec succ√®s.',
    economySellError: 'Impossible de vendre cet accessoire.',
    economyAccessoryTransferPromptUser:
      '√Ä qui veux-tu envoyer cet accessoire ? Entre son nom d‚Äôutilisateur.',
    economyAccessoryTransferPromptQuantity: 'Combien d‚Äôunit√©s veux-tu envoyer ?',
    economyAccessoryTransferSuccess: 'L‚Äôaccessoire a √©t√© envoy√© et attend une validation.',
    economyAccessoryTransferError: 'Impossible de transf√©rer cet accessoire.',
    economySeedTransferSuccess: 'Ton cadeau de graines est en route.',
    economySeedTransferError: 'Impossible d‚Äôenvoyer les graines. V√©rifie les informations.',
    economyAcceptTransferSuccess: 'Cadeau accept√© avec succ√®s.',
    economyRejectTransferSuccess: 'Cadeau g√©r√© avec succ√®s.',
    economyTransferUpdateError: 'Impossible de mettre √† jour le statut du cadeau.',
  },
  ar: {
    headerTitle: 'ÿ≠ÿØŸäŸÇÿ™Ÿä ÿßŸÑÿ∞ŸáŸÜŸäÿ©',
    navGarden: 'ÿßŸÑÿ≠ÿØŸäŸÇÿ©',
    navHistory: 'ÿßŸÑÿ≥ÿ¨ŸÑ',
    navCommunity: 'ÿßŸÑŸÖÿ¨ÿ™ŸÖÿπ',
    navLogout: 'ÿ™ÿ≥ÿ¨ŸäŸÑ ÿßŸÑÿÆÿ±Ÿàÿ¨',
    languageLabel: 'ÿßŸÑŸÑÿ∫ÿ©',

    authWelcomeTitle: 'ŸÖÿ±ÿ≠ÿ®Ÿãÿß ÿ®ŸÉ ŸÅŸä ÿ≠ÿØŸäŸÇÿ™Ÿä ÿßŸÑÿ∞ŸáŸÜŸäÿ©',
    authCreateAccountTitle: 'ÿ•ŸÜÿ¥ÿßÿ° ÿ≠ÿ≥ÿßÿ®',
    authIntro:
      'ÿ≥ÿ¨ŸÑ ÿßŸÑŸÑÿ≠ÿ∏ÿßÿ™ ÿßŸÑÿ¨ŸäÿØÿ© ŸàÿßŸÑÿ≥Ÿäÿ¶ÿ© ŸÅŸä ŸäŸàŸÖŸÉÿå ÿµŸÜŸëŸÅŸáÿß ÿ≠ÿ≥ÿ® ÿßŸÑŸÅÿ¶ÿ©ÿå Ÿàÿ±ÿßŸÇÿ® ŸÉŸäŸÅ ÿ™ŸÜŸÖŸà ÿßŸÑŸÜÿ®ÿ™ÿ© ÿßŸÑÿ™Ÿä ÿ™ŸÖÿ´ŸÑ ÿ±ŸÅÿßŸáŸÉ.',
    authUsernameLabel: 'ÿßÿ≥ŸÖ ÿßŸÑŸÖÿ≥ÿ™ÿÆÿØŸÖ',
    authEmailLabel: 'ÿßŸÑÿ®ÿ±ŸäÿØ ÿßŸÑÿ•ŸÑŸÉÿ™ÿ±ŸàŸÜŸä',
    authPasswordLabel: 'ŸÉŸÑŸÖÿ© ÿßŸÑŸÖÿ±Ÿàÿ±',
    authProcessing: 'ÿ¨ÿßÿ±Ÿç ÿßŸÑŸÖÿπÿßŸÑÿ¨ÿ©...',
    authLoginButton: 'ÿ™ÿ≥ÿ¨ŸäŸÑ ÿßŸÑÿØÿÆŸàŸÑ',
    authRegisterButton: 'ÿßŸÑÿ™ÿ≥ÿ¨ŸäŸÑ',
    authNoAccount: 'ŸÑŸäÿ≥ ŸÑÿØŸäŸÉ ÿ≠ÿ≥ÿßÿ®ÿü',
    authHaveAccount: 'ŸÑÿØŸäŸÉ ÿ≠ÿ≥ÿßÿ® ÿ®ÿßŸÑŸÅÿπŸÑÿü',
    authRegisterLink: 'ÿ≥ÿ¨ŸÑ ÿßŸÑÿ¢ŸÜ',
    authLoginLink: 'ÿ≥ÿ¨ŸëŸÑ ÿßŸÑÿØÿÆŸàŸÑ',
    authDemoTitle: 'ŸáŸÑ ÿ™ÿ±ŸäÿØ ÿßŸÑÿßÿ≥ÿ™ŸÉÿ¥ÿßŸÅ ÿ®ÿ≥ÿ±ÿπÿ©ÿü',
    authDemoText:
      'ÿßÿ≥ÿ™ÿÆÿØŸÖ ÿ≠ÿ≥ÿßÿ® ÿßŸÑÿπÿ±ÿ∂ {email} ŸÖÿπ ŸÉŸÑŸÖÿ© ÿßŸÑŸÖÿ±Ÿàÿ± {password} ŸÑÿßÿ≥ÿ™ŸÉÿ¥ÿßŸÅ ÿ≠ÿØŸäŸÇÿ© ÿ™ÿ≠ÿ™ŸàŸä ÿπŸÑŸâ ÿ£ÿ≠ÿØÿßÿ´ ŸÖÿ≥ÿ¨ŸÑÿ©.',
    authDemoButton: 'ÿßŸÖŸÑÿ£ ÿ®ŸäÿßŸÜÿßÿ™ ÿßŸÑÿπÿ±ÿ∂ ÿßŸÑÿ™Ÿàÿ∂Ÿäÿ≠Ÿä',

    gardenLoading: 'ÿ¨ÿßÿ±Ÿç ÿ™ÿ≠ŸÖŸäŸÑ ÿ≠ÿØŸäŸÇÿ™ŸÉ...',
    gardenHealth: 'ÿµÿ≠ÿ© ÿßŸÑÿ≠ÿØŸäŸÇÿ©: {health}%',
    gardenMoodNeedsCare: 'ÿ≠ÿØŸäŸÇÿ™ŸÉ ÿ™ÿ≠ÿ™ÿßÿ¨ ÿ•ŸÑŸâ ÿπŸÜÿßŸäÿ©.',
    gardenMoodBalanced: 'ÿ≠ÿØŸäŸÇÿ™ŸÉ ŸÖÿ™Ÿàÿßÿ≤ŸÜÿ©.',
    gardenMoodFlourishing: 'ÿ≠ÿØŸäŸÇÿ™ŸÉ ÿ™ÿ≤ÿØŸáÿ±!',
    gardenMoodDescription:
      'ŸÉŸÑ ÿ¥ÿπŸàÿ± ÿ™ÿ≥ÿ¨ŸÑŸá ŸáŸà ÿ≥ŸÇŸä ÿ£Ÿà ÿ¨ŸÅÿßŸÅ ŸÑŸÜÿ®ÿ™ÿ™ŸÉ ÿßŸÑÿØÿßÿÆŸÑŸäÿ©. ÿßÿ≥ÿ™ÿÆÿØŸÖ ÿßŸÑŸÅÿ¶ÿßÿ™ ŸÑŸÑÿ™ÿπÿ±ŸÅ ÿπŸÑŸâ ÿßŸÑÿ£ŸÜŸÖÿßÿ∑ ŸàŸÖŸàÿßÿ≤ŸÜÿ© ÿ£ŸäÿßŸÖŸÉ.',
    gardenRecordEvent: 'ÿ≥ÿ¨ŸëŸÑ ÿ≠ÿØÿ´Ÿãÿß ÿ¥ÿπŸàÿ±ŸäŸãÿß',
    gardenEditButton: 'ÿ™ÿπÿØŸäŸÑ',
    gardenDeleteButton: 'ÿ≠ÿ∞ŸÅ',
    gardenNoCategory: 'ÿ®ÿØŸàŸÜ ŸÅÿ¶ÿ©',
    gardenTypePositive: 'ÿ•Ÿäÿ¨ÿßÿ®Ÿä',
    gardenTypeNegative: 'ÿ≥ŸÑÿ®Ÿä',
    gardenTypeNeutral: 'ŸÖÿ≠ÿßŸäÿØ',
    gardenNoDescription: 'ŸÑÿß ŸäŸàÿ¨ÿØ ŸàÿµŸÅ',
    gardenNoEvents:
      'ŸÑÿß ÿ™Ÿàÿ¨ÿØ ŸÑÿØŸäŸÉ ÿ£ÿ≠ÿØÿßÿ´ ŸÖÿ≥ÿ¨ŸÑÿ© ÿ®ÿπÿØ. ŸÉŸÑ ÿ¥ÿπŸàÿ± ÿ™ÿ≥ÿ¨ŸÑŸá ÿ≥Ÿäÿ∫ÿ∞Ÿä ÿ£Ÿà Ÿäÿ≥ÿ™ŸÜÿ≤ŸÅ ŸÜÿ®ÿ™ÿ™ŸÉ ÿ®ÿ≠ÿ≥ÿ® ÿ™ÿ£ÿ´Ÿäÿ±Ÿá.',
    gardenFormTitle: 'ÿ≥ÿ¨ŸëŸÑ ÿ¥ÿπŸàÿ±Ÿãÿß',
    gardenFormDescription:
      'ÿµŸÅ ŸÖÿß ÿ≠ÿØÿ´ÿå ÿµŸÜŸëŸÅŸáÿå Ÿàÿ£ÿÆÿ®ÿ±ŸÜÿß ŸÉŸäŸÅ ÿ£ÿ´ÿ± ŸÅŸä ŸäŸàŸÖŸÉ. ŸáŸÉÿ∞ÿß ÿ≥ŸÜÿ±Ÿâ ÿßŸÑÿ≠ÿØŸäŸÇÿ© ÿ™ŸÜŸÖŸà ÿ£Ÿà ÿ™ÿ∞ÿ®ŸÑ.',
    gardenFormName: 'ÿßŸÑÿßÿ≥ŸÖ',
    gardenFormCategory: 'ÿßŸÑŸÅÿ¶ÿ©',
    gardenFormCategoryPlaceholder: 'ŸÖÿ´ÿßŸÑ: ÿßŸÑÿπŸÖŸÑÿå ÿßŸÑÿπŸÑÿßŸÇÿßÿ™ÿå ÿßŸÑÿπŸÜÿßŸäÿ© ÿ®ÿßŸÑÿ∞ÿßÿ™',
    gardenFormType: 'ÿßŸÑŸÜŸàÿπ',
    gardenFormDescriptionLabel: 'ÿßŸÑŸàÿµŸÅ',
    gardenFormDescriptionPlaceholder: 'ÿµŸÅ ŸÖÿß ÿ≠ÿØÿ´ ÿ£Ÿà ŸÉŸäŸÅ ÿ¥ÿπÿ±ÿ™',
    gardenFormCancel: 'ÿ•ŸÑÿ∫ÿßÿ°',
    gardenFormSave: 'ÿ≠ŸÅÿ∏',
    gardenFormSaving: 'ÿ¨ÿßÿ±Ÿç ÿßŸÑÿ≠ŸÅÿ∏...',
    gardenEditTitle: 'ÿ™ÿ≠ÿØŸäÿ´ ÿßŸÑŸàÿµŸÅ',
    gardenEditCancel: 'ÿ•ŸÑÿ∫ÿßÿ°',
    gardenEditUpdate: 'ÿ™ÿ≠ÿØŸäÿ´',

    historyTitle: 'ÿ≥ÿ¨ŸÑ ÿßŸÑŸÖÿ¥ÿßÿπÿ±',
    historySubtitle: 'ÿßÿ≥ÿ™ŸÉÿ¥ŸÅ ŸÉŸäŸÅ ÿ™ÿ∑Ÿàÿ±ÿ™ ÿ≠ÿØŸäŸÇÿ™ŸÉ ÿßŸÑÿ∞ŸáŸÜŸäÿ©.',
    historyRange7: 'ÿ¢ÿÆÿ± 7 ÿ£ŸäÿßŸÖ',
    historyRange30: 'ÿ¢ÿÆÿ± 30 ŸäŸàŸÖŸãÿß',
    historyRangeAll: 'ŸÉÿßŸÖŸÑ ÿßŸÑÿ≥ÿ¨ŸÑ',
    historyLoading: 'ÿ¨ÿßÿ±Ÿç ÿ™ÿ≠ŸÖŸäŸÑ ÿßŸÑÿ≥ÿ¨ŸÑ...',
    historyError: 'ÿ™ÿπÿ∞ÿ± ÿ™ÿ≠ŸÖŸäŸÑ ÿßŸÑÿ≥ÿ¨ŸÑ.',
    historyNoCategory: 'ÿ®ÿØŸàŸÜ ŸÅÿ¶ÿ©',
    historyNoDescription: 'ŸÑÿß ŸäŸàÿ¨ÿØ ŸàÿµŸÅ',
    historyEmptyRange: 'ŸÑÿß ÿ™Ÿàÿ¨ÿØ ÿ£ÿ≠ÿØÿßÿ´ ŸÖÿ≥ÿ¨ŸÑÿ© ŸÅŸä Ÿáÿ∞Ÿá ÿßŸÑŸÅÿ™ÿ±ÿ©.',

    communitySearchTitle: 'ÿßÿ®ÿ≠ÿ´ ŸÅŸä ÿßŸÑŸÖÿ¨ÿ™ŸÖÿπ',
    communitySearchSubtitle:
      'ÿßŸÉÿ™ÿ¥ŸÅ ÿ®ÿ≥ÿ™ÿßŸÜŸäŸäŸÜ ÿ¥ÿπŸàÿ±ŸäŸäŸÜ ÿ¢ÿÆÿ±ŸäŸÜ ÿ®Ÿàÿßÿ≥ÿ∑ÿ© ÿßÿ≥ŸÖ ÿßŸÑŸÖÿ≥ÿ™ÿÆÿØŸÖ Ÿàÿ£ÿ∂ŸÅŸáŸÖ ŸÉÿ£ÿµÿØŸÇÿßÿ°.',
    communitySearchPlaceholder: 'ÿßÿ®ÿ≠ÿ´ ÿ®ÿßÿ≥ŸÖ ÿßŸÑŸÖÿ≥ÿ™ÿÆÿØŸÖ',
    communitySearchButton: 'ÿ®ÿ≠ÿ´',
    communitySearching: 'ÿ¨ÿßÿ±Ÿç ÿßŸÑÿ®ÿ≠ÿ´...',
    communitySearchMinChars: 'ÿßŸÉÿ™ÿ® ÿ≠ÿ±ŸÅŸäŸÜ ÿπŸÑŸâ ÿßŸÑÿ£ŸÇŸÑ ŸÑŸÑÿ®ÿ≠ÿ´.',
    communitySearchError: 'ÿ™ÿπÿ∞ÿ± ÿ•ÿ™ŸÖÿßŸÖ ÿßŸÑÿ®ÿ≠ÿ´.',
    communityFriendAdded: '{name} ÿ£ÿµÿ®ÿ≠ ÿßŸÑÿ¢ŸÜ ÿ¨ÿ≤ÿ°Ÿãÿß ŸÖŸÜ ÿ≠ÿØŸäŸÇÿ™ŸÉ ÿßŸÑÿßÿ¨ÿ™ŸÖÿßÿπŸäÿ©.',
    communityFriendAddedGeneric: 'ÿ™ŸÖÿ™ ÿ•ÿ∂ÿßŸÅÿ© ÿßŸÑÿµÿØŸäŸÇ ÿßŸÑÿ¨ÿØŸäÿØ ÿ®ŸÜÿ¨ÿßÿ≠.',
    communityAlreadyFriend: 'ŸáŸà ÿ®ÿßŸÑŸÅÿπŸÑ ŸÖŸÜ ÿ£ÿµÿØŸÇÿßÿ¶ŸÉ',
    communityAddFriend: 'ÿ£ÿ∂ŸÅ ÿµÿØŸäŸÇŸãÿß',
    communityAddingFriend: 'ÿ¨ÿßÿ±Ÿç ÿßŸÑÿ•ÿ∂ÿßŸÅÿ©...',
    communityFriendAddedLabel: 'ÿ™ŸÖÿ™ ÿ•ÿ∂ÿßŸÅÿ© ÿßŸÑÿµÿØŸäŸÇ',

    communityFriendsTitle: 'ÿ£ÿµÿØŸÇÿßÿ§ŸÉ',
    communityFriendsSubtitle: 'ÿßŸÉÿ™ÿ¥ŸÅ ŸÉŸäŸÅ ÿ™ÿ≤ÿØŸáÿ± ÿ≠ÿØÿßÿ¶ŸÇ ŸÖÿ¨ÿ™ŸÖÿπŸÉ.',
    communityRefresh: 'ÿ™ÿ≠ÿØŸäÿ´',
    communityFriendsLoading: 'ÿ¨ÿßÿ±Ÿç ÿ™ÿ≠ŸÖŸäŸÑ ÿßŸÑÿ£ÿµÿØŸÇÿßÿ°...',
    communityFriendsError: 'ÿ™ÿπÿ∞ÿ± ÿ™ÿ≠ŸÖŸäŸÑ ÿ£ÿµÿØŸÇÿßÿ¶ŸÉ.',
    communityNoFriends:
      'ŸÑŸäÿ≥ ŸÑÿØŸäŸÉ ÿ£ÿµÿØŸÇÿßÿ° ÿ®ÿπÿØ. ÿßÿ®ÿ≠ÿ´ ÿπŸÜ ÿ®ÿ≥ÿ™ÿßŸÜŸäŸäŸÜ ÿ¨ÿØÿØ Ÿàÿ¥ÿßÿ±ŸÉ ŸÜŸÖŸàŸáŸÖ ÿßŸÑÿ¥ÿπŸàÿ±Ÿä.',
    communityHealthLabel: 'ÿßŸÑÿµÿ≠ÿ©: {health}%',
    communityFriendshipSince: 'ÿµÿØÿßŸÇÿ© ŸÖŸÜÿ∞ {date}',
    communityLastEvent: 'ÿ£ÿ≠ÿØÿ´ ÿ≠ÿØÿ´:',
    communityNoEventsYet: 'ŸÑÿß ÿ™Ÿàÿ¨ÿØ ÿ£ÿ≠ÿØÿßÿ´ ŸÖÿ≥ÿ¨ŸÑÿ© ÿ®ÿπÿØ.',

    communitySelectedGardenTitle: 'ÿ≠ÿØŸäŸÇÿ© {name}',
    communitySelectFriend: 'ÿßÿÆÿ™ÿ± ÿµÿØŸäŸÇŸãÿß',
    communitySelectedSubtitle: 'ÿßŸÉÿ™ÿ¥ŸÅ ÿ£ÿ≠ÿØÿßÿ´ŸáŸÖ ÿßŸÑÿ¥ÿπŸàÿ±Ÿäÿ© Ÿàÿ≥ÿßŸÜÿØ ŸÜŸÖŸàŸáŸÖ.',
    communityProfileLoading: 'ÿ¨ÿßÿ±Ÿç ÿ™ÿ≠ŸÖŸäŸÑ ÿßŸÑŸÖŸÑŸÅ ÿßŸÑÿ¥ÿÆÿµŸä...',
    communityProfileError: 'ÿ™ÿπÿ∞ÿ± ÿ™ÿ≠ŸÖŸäŸÑ ÿßŸÑŸÖŸÑŸÅ ÿßŸÑÿ¥ÿÆÿµŸä ÿßŸÑŸÖÿ≠ÿØÿØ.',
    communityGardenHealth: 'ÿµÿ≠ÿ© ÿßŸÑÿ≠ÿØŸäŸÇÿ©: {health}%',
    communityLastUpdate: 'ÿ¢ÿÆÿ± ÿ™ÿ≠ÿØŸäÿ´:',
    communityNoGarden: 'Ÿáÿ∞ÿß ÿßŸÑŸÖÿ≥ÿ™ÿÆÿØŸÖ ŸÑŸÖ ŸäŸèŸÜÿ¥ÿ¶ ÿ≠ÿØŸäŸÇÿ© ÿ®ÿπÿØ.',
    communitySharedEvents: 'ÿßŸÑÿ£ÿ≠ÿØÿßÿ´ ÿßŸÑŸÖÿ¥ÿ™ÿ±ŸÉÿ©',
    communityNoDescriptionAvailable: 'ŸÑÿß ŸäŸàÿ¨ÿØ ŸàÿµŸÅ ŸÖÿ™ÿßÿ≠.',
    communityNoSharedEvents: 'ŸÑÿß ÿ™Ÿàÿ¨ÿØ ÿ£ÿ≠ÿØÿßÿ´ ŸÑÿπÿ±ÿ∂Ÿáÿß ÿ®ÿπÿØ.',
    communitySelectFriendPrompt: 'ÿßÿÆÿ™ÿ± ÿµÿØŸäŸÇŸãÿß ŸÑÿπÿ±ÿ∂ ÿ≠ÿØŸäŸÇÿ™Ÿá ÿßŸÑÿ¥ÿπŸàÿ±Ÿäÿ©.',
    communityNoFriendsProfile:
      'ÿπŸÜÿØŸÖÿß ÿ™ÿ∂ŸäŸÅ ÿ£ÿµÿØŸÇÿßÿ° ÿ≥ÿ™ÿ™ŸÖŸÉŸÜ ŸÖŸÜ ÿßÿ≥ÿ™ŸÉÿ¥ÿßŸÅ ÿ≠ÿØÿßÿ¶ŸÇŸáŸÖ Ÿàÿ£ÿ≠ÿØÿßÿ´ŸáŸÖ ÿßŸÑÿ¥ÿπŸàÿ±Ÿäÿ© ŸáŸÜÿß.',

    formErrorRegisterPlant: 'ÿ™ÿπÿ∞ÿ± ÿ™ÿ≥ÿ¨ŸäŸÑ ÿßŸÑŸÜÿ®ÿ™ÿ©.',
    formErrorUpdatePlant: 'ÿ™ÿπÿ∞ÿ± ÿ™ÿ≠ÿØŸäÿ´ ÿßŸÑŸÜÿ®ÿ™ÿ©.',
    formErrorDeletePlant: 'ÿ™ÿπÿ∞ÿ± ÿ≠ÿ∞ŸÅ ÿßŸÑŸÜÿ®ÿ™ÿ©.',
    authErrorRegister: 'ÿ≠ÿØÿ´ ÿÆÿ∑ÿ£ ÿ£ÿ´ŸÜÿßÿ° ÿßŸÑÿ™ÿ≥ÿ¨ŸäŸÑ.',
    authErrorLogin: 'ÿ≠ÿØÿ´ ÿÆÿ∑ÿ£ ÿ£ÿ´ŸÜÿßÿ° ÿ™ÿ≥ÿ¨ŸäŸÑ ÿßŸÑÿØÿÆŸàŸÑ.',
    authErrorFetchGarden: 'ÿ™ÿπÿ∞ÿ± ÿ¨ŸÑÿ® ÿßŸÑÿ≠ÿØŸäŸÇÿ©.',
    communityErrorAddFriend: 'ÿ™ÿπÿ∞ÿ± ÿ•ÿ∂ÿßŸÅÿ© ÿßŸÑÿ¥ÿÆÿµ ÿßŸÑŸÖÿ≠ÿØÿØ.',
    communityActionError: 'ÿ™ÿπÿ∞ÿ± ÿ≠ŸÅÿ∏ ÿ™ŸÅÿßÿπŸÑŸÉ. ÿ≠ÿßŸàŸÑ ŸÖÿ±ÿ© ÿ£ÿÆÿ±Ÿâ.',
    communityWorking: 'ÿ¨ÿßÿ±Ÿç ÿßŸÑÿ™ŸÜŸÅŸäÿ∞...',
    communityLikeEvent: 'ÿ•ÿπÿ¨ÿßÿ®',
    communityUnlikeEvent: 'ÿ•ÿ≤ÿßŸÑÿ© ÿßŸÑÿ•ÿπÿ¨ÿßÿ®',
    communityLikeComment: 'ÿ•ÿπÿ¨ÿßÿ®',
    communityUnlikeComment: 'ÿ•ÿ≤ÿßŸÑÿ© ÿßŸÑÿ•ÿπÿ¨ÿßÿ®',
    communityLikesCount: '{count} ÿ•ÿπÿ¨ÿßÿ®ÿßÿ™',
    communityCommentsTitle: 'ÿßŸÑÿ™ÿπŸÑŸäŸÇÿßÿ™',
    communityNoComments: 'ŸÉŸÜ ÿ£ŸàŸÑ ŸÖŸÜ ŸäÿπŸÑŸëŸÇ.',
    communityCommentPlaceholder: 'ÿ¥ÿßÿ±ŸÉ ÿ±ÿ≥ÿßŸÑÿ© ÿØÿπŸÖ ŸÑÿµÿØŸäŸÇŸÉ...',
    communityCommentButton: 'ŸÜÿ¥ÿ± ÿßŸÑÿ™ÿπŸÑŸäŸÇ',
    communityCommentPosting: 'ÿ¨ÿßÿ±Ÿç ÿßŸÑŸÜÿ¥ÿ±...',
    communityCommentError: 'ÿ™ÿπÿ∞ÿ± ŸÜÿ¥ÿ± ÿßŸÑÿ™ÿπŸÑŸäŸÇ.',
    communityCommentRequired: 'ÿßŸÉÿ™ÿ® ÿ™ÿπŸÑŸäŸÇŸãÿß ŸÇÿ®ŸÑ ÿßŸÑÿ•ÿ±ÿ≥ÿßŸÑ.',
    communityUnknownUser: 'ÿπÿ∂Ÿà ŸÅŸä ÿßŸÑŸÖÿ¨ÿ™ŸÖÿπ',
    economySeedsLabel: 'ÿßŸÑÿ®ÿ∞Ÿàÿ± ÿßŸÑŸÖÿ™ÿßÿ≠ÿ©',
    economyLoading: 'ÿ¨ÿßÿ±Ÿç ÿßŸÑÿ™ÿ≠ŸÖŸäŸÑ‚Ä¶',
    economyMedalLabel: 'Ÿàÿ≥ÿßŸÖ ÿßŸÑÿ•ŸÉÿ≥ÿ≥Ÿàÿßÿ±ÿßÿ™',
    economyMedalDescription: 'Ÿàÿ≥ÿßŸÖ ŸÑŸÉŸÑ ÿ•ŸÉÿ≥ÿ≥Ÿàÿßÿ± ŸÇŸÖÿ™ ÿ®ÿ¥ÿ±ÿßÿ¶Ÿá.',
    economyShopTitle: 'ŸÖÿ™ÿ¨ÿ± ÿßŸÑÿ•ŸÉÿ≥ÿ≥Ÿàÿßÿ±ÿßÿ™',
    economyAccessoryOwnedLabel: 'ŸÑÿØŸäŸÉ {count}',
    economyProcessing: 'ÿ¨ÿßÿ±Ÿç ÿßŸÑŸÖÿπÿßŸÑÿ¨ÿ©...',
    economyBuyButton: 'ÿ¥ÿ±ÿßÿ°',
    economySellButton: 'ÿ®Ÿäÿπ (+{value} üå±)',
    economyGiftButton: 'ÿ•ŸáÿØÿßÿ°',
    economySeedTransferTitle: 'ÿ•ŸáÿØÿßÿ° ÿ®ÿ∞Ÿàÿ±',
    economySeedTransferSubtitle: 'ÿ£ÿ±ÿ≥ŸÑ ÿßŸÑÿ®ÿ∞Ÿàÿ± ŸÑÿ£ÿµÿØŸÇÿßÿ¶ŸÉ ŸÉÿ±ÿ≥ÿßŸÑÿ© ÿØÿπŸÖ.',
    economySeedTransferRecipient: 'ÿßÿ≥ŸÖ ÿßŸÑŸÖÿ≥ÿ™ÿÆÿØŸÖ ÿßŸÑŸÖÿ≥ÿ™ŸÑŸÖ',
    economySeedTransferRecipientPlaceholder: 'ŸÖÿ´ÿßŸÑ: test',
    economySeedTransferAmount: 'ÿπÿØÿØ ÿßŸÑÿ®ÿ∞Ÿàÿ±',
    economySeedTransferMessage: 'ÿ±ÿ≥ÿßŸÑÿ© (ÿßÿÆÿ™Ÿäÿßÿ±Ÿä)',
    economySeedTransferSubmit: 'ÿ•ÿ±ÿ≥ÿßŸÑ ÿßŸÑŸáÿØŸäÿ©',
    economyPendingGiftsTitle: 'ŸáÿØÿßŸäÿß ÿ®ÿßŸÜÿ™ÿ∏ÿßÿ± ÿßŸÑŸÇÿ®ŸàŸÑ',
    economyPendingSeedsLabel: 'ÿ®ÿ∞Ÿàÿ± ŸÖÿ≥ÿ™ŸÑŸÖÿ©',
    economyNoPendingSeeds: 'ŸÑÿß ÿ™Ÿàÿ¨ÿØ ÿ®ÿ∞Ÿàÿ± ÿ®ÿßŸÜÿ™ÿ∏ÿßÿ± ÿßŸÑŸÇÿ®ŸàŸÑ.',
    economyTransferFromLabel: '{name} ÿ£ÿ±ÿ≥ŸÑ ŸÑŸÉ {amount} üå±',
    economyAcceptButton: 'ŸÇÿ®ŸàŸÑ',
    economyRejectButton: 'ÿ±ŸÅÿ∂',
    economyPendingSeedsOutgoingLabel: 'ÿßŸÑÿ®ÿ∞Ÿàÿ± ÿßŸÑÿ™Ÿä ÿ£ÿ±ÿ≥ŸÑÿ™Ÿáÿß',
    economyTransferToLabel: 'ÿ®ÿßŸÜÿ™ÿ∏ÿßÿ± {name} ({amount} üå±)',
    economyPendingAccessoriesLabel: 'ÿ•ŸÉÿ≥ÿ≥Ÿàÿßÿ±ÿßÿ™ ŸÖÿ≥ÿ™ŸÑŸÖÿ©',
    economyNoPendingAccessories: 'ŸÑÿß ÿ™Ÿàÿ¨ÿØ ÿ•ŸÉÿ≥ÿ≥Ÿàÿßÿ±ÿßÿ™ ÿ®ÿßŸÜÿ™ÿ∏ÿßÿ± ÿßŸÑŸÇÿ®ŸàŸÑ.',
    economyAccessoryTransferFromLabel: '{name} ÿ¥ÿßÿ±ŸÉ {amount} √ó {item}',
    economyPendingAccessoriesOutgoingLabel: 'ÿßŸÑÿ•ŸÉÿ≥ÿ≥Ÿàÿßÿ±ÿßÿ™ ÿßŸÑÿ™Ÿä ÿ£ÿ±ÿ≥ŸÑÿ™Ÿáÿß',
    economyAccessoryTransferToLabel: 'ÿ®ÿßŸÜÿ™ÿ∏ÿßÿ± {name} ({amount} √ó {item})',
    economyOverviewError: 'ÿ™ÿπÿ∞ÿ± ÿ™ÿ≠ŸÖŸäŸÑ ÿ®ŸäÿßŸÜÿßÿ™ ÿßŸÑŸÖÿ™ÿ¨ÿ± ÿ≠ÿßŸÑŸäŸãÿß.',
    economyPurchaseSuccess: 'ÿ™ŸÖÿ™ ÿ•ÿ∂ÿßŸÅÿ© {name} ÿ•ŸÑŸâ ŸÜÿ®ÿ™ÿ™ŸÉ.',
    economyPurchaseGenericSuccess: 'ÿ™ŸÖ ÿ•ŸÉŸÖÿßŸÑ ÿπŸÖŸÑŸäÿ© ÿßŸÑÿ¥ÿ±ÿßÿ° ÿ®ŸÜÿ¨ÿßÿ≠.',
    economyPurchaseError: 'ÿ™ÿπÿ∞ÿ± ÿ•ŸÉŸÖÿßŸÑ ÿπŸÖŸÑŸäÿ© ÿßŸÑÿ¥ÿ±ÿßÿ°.',
    economySellSuccess: 'ÿ™ŸÖ ÿ®Ÿäÿπ {name}.',
    economySellGenericSuccess: 'ÿ™ŸÖ ÿ•ŸÉŸÖÿßŸÑ ÿπŸÖŸÑŸäÿ© ÿßŸÑÿ®Ÿäÿπ ÿ®ŸÜÿ¨ÿßÿ≠.',
    economySellError: 'ÿ™ÿπÿ∞ÿ± ÿ®Ÿäÿπ ÿßŸÑÿ•ŸÉÿ≥ÿ≥Ÿàÿßÿ±.',
    economyAccessoryTransferPromptUser: 'ÿ•ŸÑŸâ ŸÖŸÜ ÿ™ÿ±ŸäÿØ ÿ•ÿ±ÿ≥ÿßŸÑ Ÿáÿ∞ÿß ÿßŸÑÿ•ŸÉÿ≥ÿ≥Ÿàÿßÿ±ÿü ÿßŸÉÿ™ÿ® ÿßÿ≥ŸÖ ÿßŸÑŸÖÿ≥ÿ™ÿÆÿØŸÖ.',
    economyAccessoryTransferPromptQuantity: 'ŸÉŸÖ ÿπÿØÿØ ÿßŸÑŸÇÿ∑ÿπ ÿßŸÑÿ™Ÿä ÿ™ÿ±ŸäÿØ ÿ•ÿ±ÿ≥ÿßŸÑŸáÿßÿü',
    economyAccessoryTransferSuccess: 'ÿ™ŸÖ ÿ•ÿ±ÿ≥ÿßŸÑ ÿßŸÑÿ•ŸÉÿ≥ÿ≥Ÿàÿßÿ± ŸàŸäŸÜÿ™ÿ∏ÿ± ÿßŸÑŸÖŸàÿßŸÅŸÇÿ©.',
    economyAccessoryTransferError: 'ÿ™ÿπÿ∞ÿ± ÿ•ÿ±ÿ≥ÿßŸÑ ÿßŸÑÿ•ŸÉÿ≥ÿ≥Ÿàÿßÿ±.',
    economySeedTransferSuccess: 'ŸáÿØŸäÿ© ÿßŸÑÿ®ÿ∞Ÿàÿ± ŸÅŸä ÿ∑ÿ±ŸäŸÇŸáÿß.',
    economySeedTransferError: 'ÿ™ÿπÿ∞ÿ± ÿ•ÿ±ÿ≥ÿßŸÑ ÿßŸÑÿ®ÿ∞Ÿàÿ±. Ÿäÿ±ÿ¨Ÿâ ÿßŸÑÿ™ÿ≠ŸÇŸÇ ŸÖŸÜ ÿßŸÑÿ®ŸäÿßŸÜÿßÿ™.',
    economyAcceptTransferSuccess: 'ÿ™ŸÖ ŸÇÿ®ŸàŸÑ ÿßŸÑŸáÿØŸäÿ© ÿ®ŸÜÿ¨ÿßÿ≠.',
    economyRejectTransferSuccess: 'ÿ™ŸÖ ÿßŸÑÿ™ÿπÿßŸÖŸÑ ŸÖÿπ ÿßŸÑŸáÿØŸäÿ© ÿ®ŸÜÿ¨ÿßÿ≠.',
    economyTransferUpdateError: 'ÿ™ÿπÿ∞ÿ± ÿ™ÿ≠ÿØŸäÿ´ ÿ≠ÿßŸÑÿ© ÿßŸÑŸáÿØŸäÿ©.',
  },
};

export const LanguageProvider = ({ children }) => {
  const [language, setLanguage] = useState(() => getStoredLanguage());

  const changeLanguage = useCallback((nextLanguage) => {
    if (!supportedLanguages.some((lang) => lang.id === nextLanguage)) return;
    setLanguage(nextLanguage);
  }, []);

  useEffect(() => {
    if (typeof window === 'undefined') return;

    localStorage.setItem('language', language);

    const url = new URL(window.location.href);
    const segments = url.pathname.split('/').filter(Boolean);
    const hasLanguageSegment =
      segments.length > 0 && supportedLanguages.some((lang) => lang.id === segments[0]);

    let nextSegments = segments;
    let shouldUpdate = false;

    if (hasLanguageSegment) {
      if (segments[0] !== language) {
        nextSegments = [language, ...segments.slice(1)];
        shouldUpdate = true;
      }
    } else {
      nextSegments = [language, ...segments];
      shouldUpdate = true;
    }

    if (shouldUpdate) {
      const newPathname = `/${nextSegments.join('/')}`;
      const newUrl = `${newPathname}${url.search}${url.hash}`;
      window.history.replaceState(null, '', newUrl);
    }
  }, [language]);

  useEffect(() => {
    if (typeof document === 'undefined') return;

    const html = document.documentElement;
    html.lang = localeMap[language] || localeMap.es;
    html.dir = directionMap[language] || 'ltr';
  }, [language]);

  const t = useCallback(
    (key, replacements = {}) => {
      const dictionary = translations[language] || translations.es;
      const fallbackDictionary = translations.es;
      let text = dictionary[key] ?? fallbackDictionary[key] ?? key;
      if (typeof text !== 'string') return key;
      return text.replace(/\{(\w+)\}/g, (match, placeholder) =>
        Object.prototype.hasOwnProperty.call(replacements, placeholder)
          ? replacements[placeholder]
          : match
      );
    },
    [language]
  );

  const value = useMemo(
    () => ({
      language,
      locale: localeMap[language] || localeMap.es,
      languages: supportedLanguages,
      changeLanguage,
      t,
    }),
    [changeLanguage, language, t]
  );

  return <LanguageContext.Provider value={value}>{children}</LanguageContext.Provider>;
};

export const useLanguage = () => {
  const context = useContext(LanguageContext);
  if (!context) {
    throw new Error('useLanguage debe usarse dentro de LanguageProvider');
  }
  return context;
};

export default LanguageContext;
